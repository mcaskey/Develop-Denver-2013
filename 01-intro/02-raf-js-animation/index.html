<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js ie6 oldie" lang="en"><![endif]-->
<!--[if IE 7]><html class="no-js ie7 oldie" lang="en"><![endif]-->
<!--[if IE 8]><html class="no-js ie8 oldie" lang="en"><![endif]-->
<!--[if gt IE 8]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
	<title>Develop Denver 2013: Intro to HTML5 Animation</title>

	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta name="description" content="Develop Denver 2013: Intro to HTML5 Animation" />
	<meta name="viewport" content="width=device-width" />

	<link rel="shortcut icon" href="../../assets/img/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="../../assets/css/main.css">

	<!-- Demo CSS -->
	<style>
	#box {
		width: 100px;
		height: 100px;
		background-color: #666;
		font: normal normal bold 36px/100px 'Helvetica Neue', Helvetica, Arial, sans-serif;
		text-align: center;
		color: #fff;
		cursor: pointer;
	}
	</style>

	<script src="../../assets/js/vendor/modernizr-2.6.2.min.js"></script>
</head>
<body>

<div id="wrapper">
	<div id="content">
		<h1>Basic RAF Animation</h1>
		<p><a href="http://ie.microsoft.com/testdrive/Graphics/RequestAnimationFrame/" target="_new">http://ie.microsoft.com/testdrive/Graphics/RequestAnimationFrame/</a></p>
		<div id="box">1</div>
	</div>
</div>

<!-- Demo JS -->
<script src="../../assets/js/vendor/raf.js"></script>
<script>
var $b = document.getElementById('box');

$b.addEventListener('click', function() {
	var x = 0,
		fps = 60,
		step = 4,
		time;

	$b.style.marginLeft = '0';

	function animate() {
		requestAnimFrame(animate);
		draw();
	};

	function draw() {
		requestAnimationFrame(draw);

		var now = new Date().getTime(),
			dt = now - (time || now);

		time = now;
		x += step / (1000/fps) * dt;
		$b.style.marginLeft = x + 'px';

		if(x > 566) {
			$b.style.marginLeft = '566px';
			cancelAnimationFrame(animate);
		}
	};

	draw();
}, false);
</script>

</body>
</html>
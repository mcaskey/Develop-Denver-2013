<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js ie6 oldie" lang="en"><![endif]-->
<!--[if IE 7]><html class="no-js ie7 oldie" lang="en"><![endif]-->
<!--[if IE 8]><html class="no-js ie8 oldie" lang="en"><![endif]-->
<!--[if gt IE 8]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
	<title>Develop Denver 2013: Intro to HTML5 Animation</title>

	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta name="description" content="Develop Denver 2013: Intro to HTML5 Animation" />
	<meta name="viewport" content="width=device-width" />

	<link rel="shortcut icon" href="../../assets/img/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="../../assets/css/main.css">

	<script src="../../assets/js/vendor/modernizr-2.6.2.min.js"></script>
</head>
<body>

<div id="wrapper">
	<div id="content">
		<h1>Simple Canvas Animation</h1>
		<canvas id="canvas" width="666" height="100"></canvas>
	</div>
</div>

<!-- Demo JS -->
<script src="../../assets/js/vendor/raf.js"></script>
<script>
var canvas = document.getElementById('canvas');
var ctx = canvas.getContext('2d');
var x = -100,
	fps = 60,
	step = 2,
	time;

ctx.clearRect(0, 0, canvas.width, canvas.height);
ctx.fillStyle = '#666';
ctx.fillRect(x,0,100,100);

function animate() {
	requestAnimFrame(animate);
	draw();
};

function draw() {
	requestAnimationFrame(draw);

	var now = new Date().getTime(),
		dt = now - (time || now);

	time = now;

	ctx.clearRect(0, 0, canvas.width, canvas.height);
	ctx.fillStyle = '#666';
	ctx.fillRect(x,0,100,100);
	x += step / (1000/fps) * dt;

	if(x > 666) {
		x = -100;
	}
};

draw();
</script>

</body>
</html>